<template>
  <MathFunction
    :fn="sinFunction"
    :domain="[0, 100]"
    :widget="sin"
    :divisionX="5"
    :width="2"
  />
</template>

<script setup lang="ts">
  import { MathFunction } from 'https://cdn.jsdelivr.net/npm/@vue-motion/extension-math@latest/dist/index.js'; // 引入组件
  import { usePlayer, useWidget } from 'https://cdn.jsdelivr.net/npm/@vue-motion/core@latest/dist/index.js';
  import { stroke } from 'https://cdn.jsdelivr.net/npm/@vue-motion/lib@latest/dist/index.js';
  import { onMounted } from 'https://cdn.jsdelivr.net/npm/vue@3.5.12/dist/vue.esm-browser.js';
  //  Get the widget instance from the `useWidget` hook by the `wid`.
  const sin = useWidget();
  //  use the hook to get the player instance.
  const player = usePlayer();
  onMounted(() => {
    //  Add `move` animation to the widget.
    player.useAnimation(sin).delay(1).animate(stroke, {
      offsetX: 1,
      offsetY: 500,
      duration: 3, // duration 3 second
    });
    // begin the animation
    player.play();
  });
  // Define the mathematical function
  const sinFunction = (x: number) => Math.sin(x);
</script>
